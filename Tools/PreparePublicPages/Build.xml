<project name="Build the XQFTTS zip file" default="all">
   
   <property name="catalogDir" value="../../TestSuiteStagingArea"/>
   <property name="docDir" value="../../TestSuiteStagingArea/TestSuiteDocumentation"/>
   <property name="stagingArea" value="../../PublicPagesStagingArea"/>
   
   
   <target name="all">
      <antcall target="submission"/>
      <antcall target="copyGuides"/>
   </target>
   
   
   
   <target name="copyGuides">
      
      <copy todir="${stagingArea}">
         <fileset dir="${docDir}"/>
      </copy>

      <replaceregexp
         file="${stagingArea}/GuidelinesForRunningTheFullTextTestSuite.html"
         match="../XQFTTSCatalog.xml"
         replace="XQFTTSCatalogExplain.html"
         />

      <copy todir="${stagingArea}" file="${catalogDir}/XQFTTSCatalogSubmission.xml" />

      <copy todir="${stagingArea}" file="${catalogDir}/XQFTTSCatalog.xsl" />

      
   </target>
   
   
   <target name="submission">
      
      <style
         in="${catalogDir}/XQFTTSCatalog.xml"
         basedir="."
         style="Submission.xsl"
         out="${catalogDir}/XQFTTSCatalogSubmission.xml"
         force="no">
         <outputproperty name="indent" value="yes" />
         <outputproperty name="method" value="xml" />
      </style>     
      
      
   </target>
   
</project>
